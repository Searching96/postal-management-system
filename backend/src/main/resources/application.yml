spring:
  application:
    name: postal-management

  # Database Configuration
  datasource:
    url: jdbc:mysql://localhost:3306/pms_db?useUnicode=true&characterEncoding=UTF-8&serverTimezone=Asia/Ho_Chi_Minh
    username: user
    password: user
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA/Hibernate Configuration
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false
    properties:
      hibernate:
        dialect: org.hibernate.dialect.MySQLDialect
        format_sql: true
    open-in-view: false

  config:
    import: optional:file:.env[.properties]

  # RabbitMQ Configuration
  rabbitmq:
    host: localhost
    port: 5672
    username: guest
    password: guest
    virtual-host: /

# Server Configuration
server:
  port: 8080

logging:
  level:
    org.f3.postalmanagement: DEBUG

# MinIO Object Storage Configuration
minio:
  endpoint: ${MINIO_ENDPOINT:http://localhost:9000}
  access-key: ${MINIO_ACCESS_KEY:minioadmin}
  secret-key: ${MINIO_SECRET_KEY:minioadmin}
  public-url: ${MINIO_PUBLIC_URL:http://localhost:9000}
  max-file-size: 10MB
  allowed-extensions:
    - jpg
    - jpeg
    - png
    - gif
    - webp
  bucket:
    avatars: postal-avatars
    evidence: postal-evidence
    attachments: postal-attachments

# ABSA (Aspect-Based Sentiment Analysis) Configuration
absa:
  api:
    url: ${ABSA_API_URL:http://localhost:5000}
  callback:
    # Use host.docker.internal for Docker containers to reach host machine
    # For Windows/Mac Docker: host.docker.internal
    # For Linux Docker: use host IP (e.g., 172.17.0.1) or --add-host in docker run
    url: ${ABSA_CALLBACK_URL:http://host.docker.internal:8080/api/absa/callback}

# Actuator Configuration
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when-authorized
